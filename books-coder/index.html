<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>程序员的自我修养 | 凡墙总是门</title><meta name="keywords" content="读书笔记"><meta name="author" content="Kevin"><meta name="copyright" content="Kevin"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="简介PC 架构演变计算机中最重要的三个部件, CPU, 内存和 I&#x2F;O 控制芯片;    早期架构  早期的计算机, CPU 的核心频率不高, 和内存的频率一样, 他们都直接连接在同一个总线上;        系统总线的产生  后来, CPU核心频率提升, 内存开始跟不上 CPU 的速度, 于是产生了与内存频率一致的系统总线, 而 CPU 采用倍频的方式与系统总线进行通信;    北桥的产生  随">
<meta property="og:type" content="article">
<meta property="og:title" content="程序员的自我修养">
<meta property="og:url" content="http://example.com/books-coder/index.html">
<meta property="og:site_name" content="凡墙总是门">
<meta property="og:description" content="简介PC 架构演变计算机中最重要的三个部件, CPU, 内存和 I&#x2F;O 控制芯片;    早期架构  早期的计算机, CPU 的核心频率不高, 和内存的频率一样, 他们都直接连接在同一个总线上;        系统总线的产生  后来, CPU核心频率提升, 内存开始跟不上 CPU 的速度, 于是产生了与内存频率一致的系统总线, 而 CPU 采用倍频的方式与系统总线进行通信;    北桥的产生  随">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-055533.jpg">
<meta property="article:published_time" content="2021-07-29T05:54:37.000Z">
<meta property="article:modified_time" content="2021-07-29T09:36:49.280Z">
<meta property="article:author" content="Kevin">
<meta property="article:tag" content="读书笔记">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-055533.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://example.com/books-coder/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="baidu-site-verification" content="T0kgJCNqdP"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容：${query}"}},
  translate: {"defaultEncoding":2,"translateDelay":0,"msgToTraditionalChinese":"繁","msgToSimplifiedChinese":"簡"},
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = { 
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-07-29 17:36:49'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const fontSizeVal = saveToLocal.get('global-font-size')
    if (fontSizeVal !== undefined) {
      document.documentElement.style.setProperty('--global-font-size', fontSizeVal + 'px')
    }
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="author-avatar"><img class="avatar-img" src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-055533.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">凡墙总是门</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">程序员的自我修养</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-29T05:54:37.000Z" title="发表于 2021-07-29 13:54:37">2021-07-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-07-29T09:36:49.280Z" title="更新于 2021-07-29 17:36:49">2021-07-29</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h1><h2 id="PC-架构演变"><a href="#PC-架构演变" class="headerlink" title="PC 架构演变"></a>PC 架构演变</h2><p>计算机中最重要的三个部件, CPU, 内存和 I/O 控制芯片;</p>
<blockquote>
<p>  早期架构</p>
</blockquote>
<p>早期的计算机, CPU 的核心频率不高, 和内存的频率一样, 他们都直接连接在同一个总线上;</p>
<img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-055918.png"  />



<blockquote>
<p>  系统总线的产生</p>
</blockquote>
<p>后来, CPU核心频率提升, 内存开始跟不上 CPU 的速度, 于是产生了与内存频率一致的系统总线, 而 CPU 采用倍频的方式与系统总线进行通信;</p>
<blockquote>
<p>  北桥的产生</p>
</blockquote>
<p>随着图形化界面的普及, 图形芯片和 CPU 和内存之间需要大量交换数据, 慢速的 I/O总线已经没办法满足这个需求; 为了协调 CPU , 内存和图形设备, 北桥芯片产生了;</p>
<blockquote>
<p>  南桥的产生</p>
</blockquote>
<p>因为北桥的运行速度高, 所有相对低速的设备如果都直接连接在北桥上, 北桥要处理高速设备, 又要处理低速设备, 设计会十分复杂; 所以专门设计了处理低速设备的南桥芯片, 磁盘, USB, 鼠标等设备都连接在南桥上, 由南桥将他们汇总后连接到北桥上;</p>
<blockquote>
<p>  现代 PC 架构图</p>
</blockquote>
<img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-061347.jpg" style="zoom:67%;" />



<h2 id="SMP-和多核"><a href="#SMP-和多核" class="headerlink" title="SMP 和多核"></a>SMP 和多核</h2><p>人类在制造 CPU 的工艺目前已经达到物理极限了, 除非再有突破, 否则目前 CPU 的频率将会一直被目前4GHz 的天花板限制; 因为频率没有办法增加了, 于是人们开始增加 CPU 的数量来提高 CPU 的速度;</p>
<blockquote>
<p>  SMP</p>
</blockquote>
<p>对称多处理器 SMP; 每个 CPU 在系统中所处的地位和所发挥的功能是一样的, 是相互对称的; </p>
<blockquote>
<p>  多核处理器</p>
</blockquote>
<p>在个人电脑中, 使用多处理器是一个奢侈的行为, 于是处理器厂商将多个处理器打包出售, 这些处理器之间共享比较昂贵的缓存部分, 只保留多个核心, 并且以一个处理器的外包装进行出售;</p>
<h2 id="系统软件"><a href="#系统软件" class="headerlink" title="系统软件"></a>系统软件</h2><p><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-062340.png"></p>
<p>计算机科学领域的任何问题, 都可以通过增加一个中间层来解决;</p>
<p>每一个中间层都是对下面的那层的包装和扩展;</p>
<blockquote>
<p>  接口</p>
</blockquote>
<p>每一个层之间都需要相互通信, 要通信就必须要有一个通信的协议, 这就是接口; 接口下面那层是接口的提供者, 由它定义接口; 接口上面那层是接口的使用者, 它使用接口来实现所需要的功能;</p>
<h2 id="操作系统"><a href="#操作系统" class="headerlink" title="操作系统"></a>操作系统</h2><p>操作系统的的一个功能是提供抽象的接口, 另一个是管理硬件资源;</p>
<p>操作系统需要将所管理的硬件资源的效率提高, 充分挖掘他们的潜力; 主要管理对象就是 CPU, 存储器和 I/O 设备;</p>
<h3 id="提升-CPU-的效率"><a href="#提升-CPU-的效率" class="headerlink" title="提升 CPU 的效率"></a>提升 CPU 的效率</h3><blockquote>
<p>  分时系统</p>
</blockquote>
<p>程序运行模式是一种协作的模式, 即每个程序运行一段时间后都主动让出 CPU 给其他程序, 使得每个时间段每个程序都有机会运行一小段时间; 这种协作模式叫做分时系统; 但是早期的分时系统还不完善, 如果有一个程序在进行一个很耗时的计算, 一直霸占着 CPU, 操作系统也没办法, 其他程序都只能等着, 如果一个程序进入了死循环, 那么整个系统都会停止;</p>
<blockquote>
<p>  多任务系统</p>
</blockquote>
<p>为了解决分时系统的弊端, 当代计算机采用了更先进的多任务系统;</p>
<p>操作系统接管了所有的硬件资源, 并且本身运行在一个受硬件保护的级别; 所有的应用程序都以进程 Process 的方式运行在比操作系统权限更低的级别; </p>
<p>每个进程都有自己独立的地址空间, 使得进程之间的地址空间相互隔离;</p>
<p>CPU 由操作系统统一进行分配, 每个进程根据优先级的高低都会有机会得到 CPU 的使用权; 但是, 如果运行时间超过一定的时间, 操作系统会暂停该进程, 将 CPU 资源分配给其他等待运行的进程; 这种 CPU 的分配方式就是所谓的抢占式;</p>
<h3 id="提升硬件效率"><a href="#提升硬件效率" class="headerlink" title="提升硬件效率"></a>提升硬件效率</h3><p>操作系统出现后, 硬件逐渐被抽象成一系列概念; 操作系统中的硬件驱动实现了操作系统和硬件之间交互; 驱动程序可以看成是操作系统的一部分, 它往往和操作系统内核一起运行在特权级, 但是它又与操作系统内核之间有一定独立性, 使得驱动程序有比较好的灵活性; 这些驱动程序的开发工作通常都是由硬件生产的厂商来完成, 操作系统为硬件厂商提供了一系列的接口和框架, 凡是按照这个接口和框架开发的驱动程序都可以在该操作系统上面使用;</p>
<h3 id="提升内存效率"><a href="#提升内存效率" class="headerlink" title="提升内存效率"></a>提升内存效率</h3><blockquote>
<p>  早期, 程序直接运行在物理内存上, 产生了大量的问题</p>
</blockquote>
<p>早期, 程序直接运行在物理内存上, 也就是说, 程序运行时访问的地址都是物理地址; 这样产生很多问题,如:</p>
<ol>
<li>  内存不足: PC 上运行多个程序的时候, 物理内存不足, 没办法同时将多个程序都装载进来;</li>
<li>  地址空间不隔离: 所有程序都直接访问物理地址, 程序所使用的内存空间不是相互隔离的; 恶意程序可以随意修改其他程序的内存数据; 一个程序出问题也可能会影响其他程序的运行;</li>
<li>  内存使用效率低下: 因为没有有效的内存管理, 当我们需要运行 C 程序时, 内存不足, 可能需要将 A 程序和 B 程序都从内存中释放, 再将 C 载入到内存中, 内存的使用效率很低</li>
<li>  程序运行的地址不确定: 程序每次装入运行时, 都要给它从内存中分配空间, 这个空间的位置是不确定的, 但是程序在编写的时候, 它访问的数据和指令跳转的目标地址很多都是固定的, 这设计了程序的重定向问题;</li>
</ol>
<h4 id="虚拟地址"><a href="#虚拟地址" class="headerlink" title="虚拟地址"></a>虚拟地址</h4><p>将程序给出的地址看成是一个虚拟地址, 然后通过物理地址和虚拟地址之间映射, 将虚拟地址转换成实际的物理地址; 只要管理虚拟地址到物理地址的映射就可以保证任意一个程序能访问的物理内存区域和另一个程序互相不重叠;</p>
<h4 id="进程地址隔离"><a href="#进程地址隔离" class="headerlink" title="进程地址隔离"></a>进程地址隔离</h4><p>所谓的地址空间是一个比较抽象的概念, 可以把地址空间想象成一个很大的数组, 数组中的每个元素是一个字节, 这个数组的大小由地址空间的地址长度决定;</p>
<blockquote>
<p>  物理地址空间</p>
</blockquote>
<p>物理地址空间是实实在在存在的, 存在于计算机中, 而且对于每一台计算机来说只有唯一的一个; 可以把物理地址空间当做物理内存; </p>
<blockquote>
<p>  虚拟地址空间</p>
</blockquote>
<p>虚拟地址空间是指虚拟的, 人们想象出来的地址空间, 其实它不是真的存在, 每个进程都有自己独立的虚拟空间, 而且每个进程也只能访问自己的地址空间; </p>
<p>通过虚拟地址空间可以实现有效的进程的地址隔离;</p>
<h4 id="分段"><a href="#分段" class="headerlink" title="分段"></a>分段</h4><p>分段的基本思路是: 把一段程序所需要使用的内存空间大小的虚拟空间映射到物理内存中, 比如一个程序需要使用 10MB 的虚拟空间, 那么就将 10MB 的虚拟空间映射到实际物理空间中, 即虚拟空间中的每个字节对应物理空间中的每个字节; </p>
<img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-090500.png" style="zoom:50%;" />

<p>这个映射过程由操作系统来完成, 实际的地址转换过程由硬件完成; 比如程序 A 要访问虚拟地址 0x00001000 时, CPU 会将这个虚拟地址转换成实际在物理内存中的映射地址;</p>
<p>分段解决了地址隔离问题和程序地址硬编码问题:</p>
<ol>
<li>  隔离问题: 因为程序 A 和程序 B 被映射到两个完全不同的空间区域, 它们之间没有任何重叠, 一旦程序 A 访问的虚拟空间地址超出了 0x00A00000, 那么硬件就会判断这是一个非法的访问, 拒绝这个地址的请求;</li>
<li>  程序地址硬编码: 无论程序被真实分配到哪个物理内存, 对于程序本身来说都是透明的, 程序不再需要关心物理地址的变化, 只需要按照 0x00000000 到 0x00A00000 来编写程序, 放置变量即可, 真实的寻址工作由 CPU 来完成, 程序本身不需要重定位;</li>
</ol>
<h4 id="分页"><a href="#分页" class="headerlink" title="分页"></a>分页</h4><blockquote>
<p>  分页解决的问题</p>
</blockquote>
<p>分段的方式没有解决内存使用效率的问题, 分段对内存区域的映射还是按照程序为单位, 如果内存不足, 被换入和换出到磁盘的都是整个程序, 这样会造成大量的磁盘访问操作, 从而严重影响速度;</p>
<p>采用分页的方式还可以为每个页设置权限, 谁可以修改, 谁可以访问等, 而只有操作系统可以修改这些权限, 起到了保护的作用;</p>
<blockquote>
<p>  分页原理</p>
</blockquote>
<p>根据程序的局部性原理, 当一个程序在运行时, 在某个时间段内, 它频繁用到了一小部分数据; 即程序的很多数据其实在一个时间段内都不会被用到; 所以可以采用更小粒度的内存分割和映射的方法, 让程序的局部性原理充分得到利用, 这种方法就是分页;</p>
<blockquote>
<p>  分页实现</p>
</blockquote>
<p>分页的基本方法是将虚拟地址空间和物理地址空间人为分成固定大小的页, 每一页的大小由硬件或者操作系统决定; 虚拟地址空间和物理地址空间每页的大小一致;</p>
<blockquote>
<p>  分页案例</p>
</blockquote>
<p>假设, 每个虚拟地址空间有 8 页, 每页大小为 1KB; 那么虚拟地址空间就是 8KB; 物理地址空间为 6KB, 每页大小为 1KB; </p>
<p>当程勋运行起来, 我们把常用的数据和代码装载到内存中, 不常用的代码和数据仍然保存在磁盘中; 当需要使用这些不常用的代码时, 再从磁盘中将这些代码读取出来; </p>
<p>如果有两个进程 Process1 和 Process2; VP0, VP1, VP7 虚拟页映射到了 PP0, PP2, PP3 物理页上, 其他部分页面仍保存在磁盘中, 比如 VP2 和 VP3 位于磁盘页 DP0, DP1 中; </p>
<p>Process1 的 VP2 和 VP3 不在内存中, 但是当进程用到这个两个页的时候, 硬件会捕获到这个信息, 也就是所谓的<code>页错误</code>; 然后操作系统接管进程, 负责将 VP2 和 VP3 对应在磁盘DP0, DP1 中的数据读取到物理内存中, 再将成功装载这两页的物理内存页和 VP2, VP3 进行映射; </p>
<img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-093241.png" style="zoom:50%;" />



<blockquote>
<p>  MMU</p>
</blockquote>
<p>虚拟存储的实现需要硬件的支持, 对于不同的 CPU 来说是不同的, 但是几乎所有的硬件都采用 MMU部件来进行页映射; </p>
<p><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-093532.png"></p>
<p>在页映射模式下, CPU 发出的是虚拟地址, 也就是程序中看到的虚拟地址; 经过 MMU 的转换以后就变成了物理地址, 现在 MMU 一般都集成在 CPU 内部, 不会以单独的部件存在了;</p>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">Kevin</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://example.com/books-coder/">http://example.com/books-coder/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://example.com" target="_blank">凡墙总是门</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E8%AF%BB%E4%B9%A6%E7%AC%94%E8%AE%B0/">读书笔记</a></div><div class="post_share"><div class="social-share" data-image="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-055533.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/unidbg1/"><img class="prev-cover" src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-08-12-015232.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">跟着龙哥踩坑unidbg1</div></div></a></div><div class="next-post pull-right"><a href="/so1/"><img class="next-cover" src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-15-050409.jpg" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">so基础入门</div></div></a></div></nav><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="gitalk-container"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="card-info-avatar is-center"><img class="avatar-img" src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/><div class="author-info__name">Kevin</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">26</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">19</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">11</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/kevinspider"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/kevinspider" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:zhangyang.spider@gmail.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%AE%80%E4%BB%8B"><span class="toc-number">1.</span> <span class="toc-text">简介</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#PC-%E6%9E%B6%E6%9E%84%E6%BC%94%E5%8F%98"><span class="toc-number">1.1.</span> <span class="toc-text">PC 架构演变</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#SMP-%E5%92%8C%E5%A4%9A%E6%A0%B8"><span class="toc-number">1.2.</span> <span class="toc-text">SMP 和多核</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%B3%BB%E7%BB%9F%E8%BD%AF%E4%BB%B6"><span class="toc-number">1.3.</span> <span class="toc-text">系统软件</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F"><span class="toc-number">1.4.</span> <span class="toc-text">操作系统</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8D%87-CPU-%E7%9A%84%E6%95%88%E7%8E%87"><span class="toc-number">1.4.1.</span> <span class="toc-text">提升 CPU 的效率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8D%87%E7%A1%AC%E4%BB%B6%E6%95%88%E7%8E%87"><span class="toc-number">1.4.2.</span> <span class="toc-text">提升硬件效率</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8F%90%E5%8D%87%E5%86%85%E5%AD%98%E6%95%88%E7%8E%87"><span class="toc-number">1.4.3.</span> <span class="toc-text">提升内存效率</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%99%9A%E6%8B%9F%E5%9C%B0%E5%9D%80"><span class="toc-number">1.4.3.1.</span> <span class="toc-text">虚拟地址</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9B%E7%A8%8B%E5%9C%B0%E5%9D%80%E9%9A%94%E7%A6%BB"><span class="toc-number">1.4.3.2.</span> <span class="toc-text">进程地址隔离</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E6%AE%B5"><span class="toc-number">1.4.3.3.</span> <span class="toc-text">分段</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E9%A1%B5"><span class="toc-number">1.4.3.4.</span> <span class="toc-text">分页</span></a></li></ol></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/unidbg2/" title="跟着龙哥踩坑unidbg2"><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-08-24-055002.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跟着龙哥踩坑unidbg2"/></a><div class="content"><a class="title" href="/unidbg2/" title="跟着龙哥踩坑unidbg2">跟着龙哥踩坑unidbg2</a><time datetime="2021-08-24T05:49:15.000Z" title="发表于 2021-08-24 13:49:15">2021-08-24</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/antijs/" title="js逆向"><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-08-17-021631.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="js逆向"/></a><div class="content"><a class="title" href="/antijs/" title="js逆向">js逆向</a><time datetime="2021-08-17T02:15:12.000Z" title="发表于 2021-08-17 10:15:12">2021-08-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/unidbg1/" title="跟着龙哥踩坑unidbg1"><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-08-12-015232.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="跟着龙哥踩坑unidbg1"/></a><div class="content"><a class="title" href="/unidbg1/" title="跟着龙哥踩坑unidbg1">跟着龙哥踩坑unidbg1</a><time datetime="2021-08-12T01:50:15.000Z" title="发表于 2021-08-12 09:50:15">2021-08-12</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/books-coder/" title="程序员的自我修养"><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-29-055533.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="程序员的自我修养"/></a><div class="content"><a class="title" href="/books-coder/" title="程序员的自我修养">程序员的自我修养</a><time datetime="2021-07-29T05:54:37.000Z" title="发表于 2021-07-29 13:54:37">2021-07-29</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/so1/" title="so基础入门"><img src="https://kevinspider-1258012111.cos.ap-shanghai.myqcloud.com/2021-07-15-050409.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="so基础入门"/></a><div class="content"><a class="title" href="/so1/" title="so基础入门">so基础入门</a><time datetime="2021-07-15T05:02:50.000Z" title="发表于 2021-07-15 13:02:50">2021-07-15</time></div></div></div></div></div></div></main><footer id="footer"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By Kevin</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="font-plus" type="button" title="放大字体"><i class="fas fa-plus"></i></button><button id="font-minus" type="button" title="缩小字体"><i class="fas fa-minus"></i></button><button id="translateLink" type="button" title="简繁转换">繁</button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="local-search"><div class="search-dialog"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章" type="text"/></div></div></div><hr/><div id="local-search-results"></div><span class="search-close-button"><i class="fas fa-times"></i></span></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="/js/tw_cn.js"></script><script src="/js/search/local-search.js"></script><div class="js-pjax"><script>function addGitalkSource () {
  const ele = document.createElement('link')
  ele.rel = 'stylesheet'
  ele.href= 'https://cdn.jsdelivr.net/npm/gitalk/dist/gitalk.min.css'
  document.getElementsByTagName('head')[0].appendChild(ele)
}

function loadGitalk () {
  function initGitalk () {
    var gitalk = new Gitalk({
      clientID: 'e26403e0bb1e289c53e6',
      clientSecret: '5826f8314e51e7f17499d405d916c47d2bae3ec4',
      repo: 'kevinspider.github.io',
      owner: 'kevinspider',
      admin: ['kevinspider'],
      id: '98cc2b61544d0c2305422c9de55bccd9',
      language: 'en',
      perPage: 10,
      distractionFreeMode: false,
      pagerDirection: 'last',
      createIssueManually: false,
      updateCountCallback: commentCount
    })
    gitalk.render('gitalk-container')
  }

  if (typeof Gitalk === 'function') initGitalk()
  else {
    addGitalkSource()
    getScript('https://cdn.jsdelivr.net/npm/gitalk@latest/dist/gitalk.min.js').then(initGitalk)
  }
}

function commentCount(n){
  let isCommentCount = document.querySelector('#post-meta .gitalk-comment-count')
  if (isCommentCount) {
    isCommentCount.innerHTML= n
  }
}

if ('Gitalk' === 'Gitalk' || !true) {
  if (true) btf.loadComment(document.getElementById('gitalk-container'), loadGitalk)
  else loadGitalk()
} else {
  function loadOtherComment () {
    loadGitalk()
  }
}</script></div><script async data-pjax src="//cdn.jsdelivr.net/gh/sukkaw/busuanzi@2.3/bsz.pure.mini.js"></script></div></body></html>